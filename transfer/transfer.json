{
  "TestName": "transfer_test",
  "Users": [
    {
      "UserId": "1",
      "Number": "157",
      "Login": "157",
      "Password": "123",
      "SipDomain": "pv.ssw3",
      "Expires": "3600",
      "SipGroup": "sip.ab",
      "Port": "10106",
      "QParam": "0.5"
    },
    {
      "UserId": "2",
      "Number": "158",
      "Login": "158",
      "Password": "123",
      "SipDomain": "pv.ssw3",
      "Expires": "3600",
      "SipGroup": "sip.ab",
      "Port": "10107",
      "QParam": "1"
    },
    {
      "UserId": "3",
      "Number": "159",
      "Login": "159",
      "Password": "123",
      "SipDomain": "pv.ssw3",
      "Expires": "3600",
      "SipGroup": "sip.ab",
      "Port": "10108",
      "QParam": "1"
    },
    {
      "UserId": "4",
      "Number": "155",
      "Login": "155",
      "Password": "123",
      "SipDomain": "pv.ssw3",
      "Expires": "3600",
      "SipGroup": "sip.ab",
      "Port": "10109",
      "QParam": "1"
    }
  ],
  "UserVar": [
    {}
  ],
  "PreCoconConf": [
    {
      "command1": "/domain/%%DEV_DOM%%/ss/enable %%1.Number%% chold",
      "command2": "/domain/%%DEV_DOM%%/ss/enable %%2.Number%% chold",
      "command3": "/domain/%%DEV_DOM%%/ss/enable %%3.Number%% chold",
      "command4": "/domain/%%DEV_DOM%%/ss/enable %%4.Number%% chold",
      "command5": "/domain/%%DEV_DOM%%/ss/activate %%1.Number%% chold",
      "command6": "/domain/%%DEV_DOM%%/ss/activate %%2.Number%% chold",
      "command7": "/domain/%%DEV_DOM%%/ss/activate %%3.Number%% chold",
      "command8": "/domain/%%DEV_DOM%%/ss/activate %%4.Number%% chold",
      "command9": "/domain/%%DEV_DOM%%/ss/enable %%1.Number%% ctr",
      "command10": "/domain/%%DEV_DOM%%/ss/enable %%2.Number%% ctr",
      "command11": "/domain/%%DEV_DOM%%/ss/enable %%3.Number%% ctr",
      "command12": "/domain/%%DEV_DOM%%/ss/enable %%4.Number%% ctr",
      "command13": "/domain/%%DEV_DOM%%/ss/activate %%1.Number%% ctr",
      "command14": "/domain/%%DEV_DOM%%/ss/activate %%2.Number%% ctr",
      "command15": "/domain/%%DEV_DOM%%/ss/activate %%3.Number%% ctr",
      "command16": "/domain/%%DEV_DOM%%/ss/activate %%4.Number%% ctr",
      "command17": "/domain/%%DEV_DOM%%/iface/user-set sip1 %%1.SipGroup%% %%1.Number%%@%%1.SipDomain%% terminal_type smart",
      "command18": "/domain/%%DEV_DOM%%/iface/user-set sip1 %%2.SipGroup%% %%2.Number%%@%%2.SipDomain%% terminal_type smart",
      "command19": "/domain/%%DEV_DOM%%/iface/user-set sip1 %%3.SipGroup%% %%3.Number%%@%%3.SipDomain%% terminal_type smart",
      "command20": "/domain/%%DEV_DOM%%/iface/user-set sip1 %%4.SipGroup%% %%4.Number%%@%%4.SipDomain%% terminal_type smart"
    }
  ],
  "PostCoconConf": [
    {
      "command1": "/domain/%%DEV_DOM%%/ss/deactivate %%1.Number%% chold",
      "command2": "/domain/%%DEV_DOM%%/ss/deactivate %%2.Number%% chold",
      "command3": "/domain/%%DEV_DOM%%/ss/deactivate %%3.Number%% chold",
      "command4": "/domain/%%DEV_DOM%%/ss/deactivate %%4.Number%% chold",
      "command5": "/domain/%%DEV_DOM%%/ss/deactivate %%1.Number%% ctr",
      "command6": "/domain/%%DEV_DOM%%/ss/deactivate %%2.Number%% ctr",
      "command7": "/domain/%%DEV_DOM%%/ss/deactivate %%3.Number%% ctr",
      "command8": "/domain/%%DEV_DOM%%/ss/deactivate %%4.Number%% ctr",
      "command9": "/domain/%%DEV_DOM%%/ss/disable %%1.Number%% chold",
      "command10": "/domain/%%DEV_DOM%%/ss/disable %%2.Number%% chold",
      "command11": "/domain/%%DEV_DOM%%/ss/disable %%3.Number%% chold",
      "command12": "/domain/%%DEV_DOM%%/ss/disable %%4.Number%% chold",
      "command13": "/domain/%%DEV_DOM%%/ss/disable %%1.Number%% ctr",
      "command14": "/domain/%%DEV_DOM%%/ss/disable %%2.Number%% ctr",
      "command15": "/domain/%%DEV_DOM%%/ss/disable %%3.Number%% ctr",
      "command16": "/domain/%%DEV_DOM%%/ss/disable %%4.Number%% ctr"
    }
  ],
  "Tests": [
    {
      "Name": "unattended transfer",
      "Description": "unattended transfer",
      "TestProcedure": [
        {
          "StartUA": [
            {
              "Type": "User",
              "UserId": "1",
              "Name": "UAS1_UN_TRANS",
              "Commands": [
                {
                  "SourceFile": "transfer/unattended_transfer.xml",
                  "Options": "-m 1 -aa -set REFERNUM %%2.Number%% -set REFERDOM %%2.SipDomain%%",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                },
                {
                  "SourceFile": "transfer/unattended_transfer.xml",
                  "Options": "-m 1 -aa -set REFERNUM %%2.Number%% -set REFERDOM %%2.SipDomain%%",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                },
                {
                  "SourceFile": "transfer/unattended_transfer.xml",
                  "Options": "-m 1 -aa -set REFERNUM 100 -set REFERDOM pv.ssw3",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                }
              ]
            },
            {
              "Type": "User",
              "UserId": "2",
              "Name": "UAS2_UN_TRANS",
              "Commands": [
                {
                  "SourceFile": "transfer/unattended_transfer.xml",
                  "Options": "-m 1 -aa  -set REFERNUM %%1.Number%% -set REFERDOM %%1.SipDomain%%",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                },
                {
                  "SourceFile": "transfer/unattended_transfer.xml",
                  "Options": "-m 1 -aa -set REFERNUM %%1.Number%% -set REFERDOM %%1.SipDomain%%",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                },
                {
                  "SourceFile": "transfer/unattended_transfer.xml",
                  "Options": "-m 1 -aa  -set REFERNUM %%1.Number%% -set REFERDOM %%1.SipDomain%%",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                }
              ]
            },
            {
              "Type": "User",
              "UserId": "3",
              "Name": "UAC_UN_TRANS",
              "Commands": [
                {
                  "SourceFile": "transfer/uac.xml",
                  "Options": "-m 1 -aa -set CDPNDOM %%2.SipDomain%% -set CDPN %%2.Number%% -r 1 -l 1 -rp 3000",
                  "SippType": "uac",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "Name": "attended transfer",
      "Description": "attended transfer",
      "TestProcedure": [
        {
          "StartUA": [
            {
              "Type": "User",
              "UserId": "1",
              "Name": "UAS1_AT_TRANS",
              "Commands": [
                {
                  "SourceFile": "transfer/attended_transfer.xml",
                  "Options": "-m 1 -aa  -set REFERNUM %%2.Number%% -set REFERDOM %%2.SipDomain%%",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                },
                {
                  "SourceFile": "transfer/attended_transfer.xml",
                  "Options": "-m 1 -aa -set REFERNUM %%2.Number%% -set REFERDOM %%2.SipDomain%%",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                },
                {
                  "SourceFile": "transfer/attended_transfer.xml",
                  "Options": "-m 1 -aa  -set REFERNUM 100 -set REFERDOM pv.ssw3",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                }
              ]
            },
            {
              "Type": "User",
              "UserId": "2",
              "Name": "UAS2_AT_TRANS",
              "Commands": [
                {
                  "SourceFile": "transfer/attended_transfer.xml",
                  "Options": "-m 1 -aa  -set REFERNUM %%1.Number%% -set REFERDOM %%1.SipDomain%%",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                },
                {
                  "SourceFile": "transfer/attended_transfer.xml",
                  "Options": "-m 1 -aa  -set REFERNUM %%1.Number%% -set REFERDOM %%1.SipDomain%%",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                },
                {
                  "SourceFile": "transfer/attended_transfer.xml",
                  "Options": "-m 1 -aa -set REFERNUM %%1.Number%% -set REFERDOM %%1.SipDomain%%",
                  "SippType": "uas",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                }
              ]
            },
            {
              "Type": "User",
              "UserId": "3",
              "Name": "UAC_AT_TRANS",
              "Commands": [
                {
                  "SourceFile": "transfer/uac.xml",
                  "Options": "-m 1 -aa -set CDPNDOM %%2.SipDomain%% -set CDPN %%2.Number%% -r 1 -l 1 -rp 3000",
                  "SippType": "uac",
                  "NeedAuth": "True",
                  "Timeout": "200s"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
